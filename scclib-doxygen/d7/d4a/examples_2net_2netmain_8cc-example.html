<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scclib: examples/net/netmain.cc</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">scclib
   </div>
   <div id="projectbrief">Stable Cloud Computing C++ Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">examples/net/netmain.cc</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">BSD 3-Clause License</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">Copyright (c) 2022, Stable Cloud Computing, Inc.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment">modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">1. Redistributions of source code must retain the above copyright notice, this</span></div>
<div class="line"><span class="comment">   list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">2. Redistributions in binary form must reproduce the above copyright notice,</span></div>
<div class="line"><span class="comment">   this list of conditions and the following disclaimer in the documentation</span></div>
<div class="line"><span class="comment">   and/or other materials provided with the distribution.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">3. Neither the name of the copyright holder nor the names of its</span></div>
<div class="line"><span class="comment">   contributors may be used to endorse or promote products derived from</span></div>
<div class="line"><span class="comment">   this software without specific prior written permission.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;</span></div>
<div class="line"><span class="comment">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></div>
<div class="line"><span class="comment">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span></div>
<div class="line"><span class="comment">DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span></div>
<div class="line"><span class="comment">FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span></div>
<div class="line"><span class="comment">DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></div>
<div class="line"><span class="comment">SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span></div>
<div class="line"><span class="comment">CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span></div>
<div class="line"><span class="comment">OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span></div>
<div class="line"><span class="comment">OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment">*/</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;system_error&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;getopt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;chrono&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d39/net__if_8h.html">net/net_if.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d6/d4a/inet_8h.html">net/inet.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d4/db0/poller_8h.html">util/poller.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../dd/d20/event_8h.html">util/event.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d6/d4a/inet_8h.html">net/inet.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../dd/d27/iostream_8h.html">util/iostream.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d1/d8c/logger_8h.html">util/logger.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using</span> std::exception;</div>
<div class="line"><span class="keyword">using</span> std::getline;</div>
<div class="line"><span class="keyword">using</span> std::string;</div>
<div class="line"><span class="keyword">using</span> std::thread;</div>
<div class="line"><span class="keyword">using</span> std::runtime_error;</div>
<div class="line"><span class="keyword">using</span> std::endl;</div>
<div class="line"><span class="keyword">using</span> std::chrono::milliseconds;</div>
<div class="line"><span class="keyword">using</span> std::chrono::seconds;</div>
<div class="line"><span class="keyword">using</span> <a name="_a0"></a><a class="code" href="../../db/da2/classscc_1_1util_1_1Logger.html">scc::util::Logger</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a1"></a><a class="code" href="../../db/d7d/classscc_1_1util_1_1Event.html">scc::util::Event</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a2"></a><a class="code" href="../../dc/d7d/classscc_1_1util_1_1Poller.html">scc::util::Poller</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a3"></a><a class="code" href="../../d2/d63/classscc_1_1util_1_1InStream.html">scc::util::InStream</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a4"></a><a class="code" href="../../d6/dbd/classscc_1_1util_1_1OutStream.html">scc::util::OutStream</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a5"></a><a class="code" href="../../d9/d84/classscc_1_1util_1_1IoStream.html">scc::util::IoStream</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a6"></a><a class="code" href="../../d6/df8/classscc_1_1net_1_1NetIf.html">scc::net::NetIf</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a7"></a><a class="code" href="../../da/d56/classscc_1_1net_1_1InetAddr.html">scc::net::InetAddr</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a8"></a><a class="code" href="../../dc/dcf/classscc_1_1net_1_1InetTcpSock.html">scc::net::InetTcpSock</a>;</div>
<div class="line"><span class="keyword">using</span> <a name="_a9"></a><a class="code" href="../../df/da1/classscc_1_1net_1_1InetUdpSock.html">scc::net::InetUdpSock</a>;</div>
<div class="line"> </div>
<div class="line">Logger lout;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> print_available_addrs()</div>
<div class="line">{</div>
<div class="line">    lout &lt;&lt; endl;</div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;Any addrs:&quot;</span> &lt;&lt; endl;</div>
<div class="line">    InetAddr sa;</div>
<div class="line">    sa.host(<span class="stringliteral">&quot;::ffff:0.0.0.0&quot;</span>);</div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; sa &lt;&lt; endl;</div>
<div class="line">    sa.host(<span class="stringliteral">&quot;::&quot;</span>);</div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; sa &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> ifs = NetIf::all_interfaces();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : ifs)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;Interface &quot;</span> &lt;&lt; i.name() &lt;&lt; <span class="stringliteral">&quot; (index &quot;</span> &lt;&lt; i.index() &lt;&lt; <span class="stringliteral">&quot;):&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; s : i.addrs())</div>
<div class="line">        {</div>
<div class="line">            lout &lt;&lt; <span class="stringliteral">&quot;    &quot;</span> &lt;&lt; s &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> print_interfaces()</div>
<div class="line">{</div>
<div class="line">    lout &lt;&lt; endl;</div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;Interfaces: &quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keyword">auto</span> ifs = NetIf::all_interfaces();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : ifs)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; i.str() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">string</span> resolve(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">bool</span> udp=<span class="keyword">false</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> hads = NetIf::host_addrs(host, udp ? NetIf::SocketType::udp_datagram : NetIf::SocketType::tcp_stream);</div>
<div class="line">    <span class="keywordflow">if</span> (hads.size())</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* &quot;</span> &lt;&lt; host &lt;&lt; <span class="stringliteral">&quot; --&gt; &quot;</span> &lt;&lt; hads[0] &lt;&lt; endl;</div>
<div class="line">        <span class="keywordflow">return</span> hads[0].host();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> host;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> test_tcp(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope, <span class="keywordtype">int</span> timeout)</div>
<div class="line">{</div>
<div class="line">    InetAddr addr;</div>
<div class="line">    addr.host(host);</div>
<div class="line">    <span class="keywordflow">if</span> (scope)          addr.scope_id(scope);</div>
<div class="line">    addr.port(port);</div>
<div class="line"> </div>
<div class="line">    InetTcpSock s;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (timeout &gt;= 0)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* connecting with &quot;</span> &lt;&lt; timeout &lt;&lt; <span class="stringliteral">&quot; second timeout...&quot;</span> &lt;&lt; endl;</div>
<div class="line">        </div>
<div class="line">        std::error_code ec;</div>
<div class="line">        s.non_blocking(<span class="keyword">true</span>);</div>
<div class="line">        s.connect(addr, ec);            <span class="comment">// don&#39;t let EINPROGRESS throw an exception</span></div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span> (ec.value() != 0 &amp;&amp; ec.value() != EINPROGRESS)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> std::system_error(ec.value(), std::system_category());</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        Poller pout;</div>
<div class="line">        pout.set(s.fd(), Poller::output);</div>
<div class="line">        pout.wait(seconds(timeout));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (pout.event(s.fd()) == 0)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">throw</span> runtime_error(<span class="stringliteral">&quot;timed out&quot;</span>);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        s.non_blocking(<span class="keyword">false</span>);</div>
<div class="line">        s.connect(addr);            <span class="comment">// this will either connect or throw</span></div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* connecting with no timeout&quot;</span> &lt;&lt; endl;</div>
<div class="line">        s.connect(addr);</div>
<div class="line">    }</div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* connected OK&quot;</span> &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> listen_tcp(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    InetAddr addr;</div>
<div class="line">    addr.host(host);</div>
<div class="line">    <span class="keywordflow">if</span> (scope)          addr.scope_id(scope);</div>
<div class="line">    addr.port(port);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* server tcp address: &quot;</span> &lt;&lt; addr &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    InetTcpSock s;</div>
<div class="line">    s.reuse_addr(<span class="keyword">true</span>);</div>
<div class="line">    </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* tcp binding to address&quot;</span> &lt;&lt; endl;</div>
<div class="line">    s.bind(addr);</div>
<div class="line">    </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* tcp listening&quot;</span> &lt;&lt; endl;  </div>
<div class="line">    s.listen();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        InetAddr from;</div>
<div class="line"> </div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* tcp waiting for connection&quot;</span> &lt;&lt; endl;</div>
<div class="line">        <span class="keyword">auto</span> conn = s.accept(from);</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* connection from &quot;</span> &lt;&lt; from &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">        IoStream st(conn, conn);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">string</span> got;</div>
<div class="line">        <span class="keywordflow">while</span> (getline(st, got))     <span class="comment">// loop until eof (socket closed)</span></div>
<div class="line">        {</div>
<div class="line">            lout &lt;&lt; <span class="stringliteral">&quot;echo &gt; &quot;</span> &lt;&lt; got &lt;&lt; endl;</div>
<div class="line">            st &lt;&lt; got &lt;&lt; endl;</div>
<div class="line">        }</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* input stream failed: eof()=&quot;</span> &lt;&lt; st.eof() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> connect_tcp(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    InetAddr addr;</div>
<div class="line">    addr.host(host);</div>
<div class="line">    <span class="keywordflow">if</span> (scope)          addr.scope_id(scope);</div>
<div class="line">    addr.port(port);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* address: &quot;</span> &lt;&lt; addr &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    InetTcpSock s;</div>
<div class="line">    s.reuse_addr(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* tcp connect...&quot;</span> &lt;&lt; endl;</div>
<div class="line">    s.connect(addr);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* connected, sending keyboard input to server&quot;</span> &lt;&lt; endl;</div>
<div class="line">    </div>
<div class="line">    Event done;</div>
<div class="line"> </div>
<div class="line">    thread t([&amp;s, &amp;done]()</div>
<div class="line">    {</div>
<div class="line">        Logger tout;</div>
<div class="line">        tout.add_cout();</div>
<div class="line"> </div>
<div class="line">        InStream st(s);</div>
<div class="line"> </div>
<div class="line">        Poller pin;</div>
<div class="line">        pin.set(done, Poller::input);</div>
<div class="line">        pin.set(s.fd(), Poller::input);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (1)</div>
<div class="line">        {</div>
<div class="line">            pin.wait(milliseconds(100));</div>
<div class="line">            <span class="keywordflow">if</span> (pin.event(done))</div>
<div class="line">            {</div>
<div class="line">                tout &lt;&lt; <span class="stringliteral">&quot;* done signal, thread exit&quot;</span> &lt;&lt; endl;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">            std::string got;</div>
<div class="line">            <span class="keywordflow">while</span> (getline(st, got))</div>
<div class="line">            {</div>
<div class="line">                tout &lt;&lt; <span class="stringliteral">&quot;got &gt; &quot;</span> &lt;&lt; got &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    OutStream st(s);</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        std::this_thread::sleep_for(milliseconds(100));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">string</span> cmd;</div>
<div class="line">        getline(std::cin, cmd);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!(st &lt;&lt; cmd &lt;&lt; endl))</div>
<div class="line">        {</div>
<div class="line">            lout &lt;&lt; <span class="stringliteral">&quot;* output stream failed, exit&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        st.flush();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    done.write(1);</div>
<div class="line">    s.close();</div>
<div class="line">    t.join();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> listen_udp(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    InetAddr addr;</div>
<div class="line">    addr.host(host);</div>
<div class="line">    <span class="keywordflow">if</span> (scope)          addr.scope_id(scope);</div>
<div class="line">    addr.port(port);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* server udp address: &quot;</span> &lt;&lt; addr &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    InetUdpSock s;</div>
<div class="line">    s.reuse_addr(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* udp binding to address&quot;</span> &lt;&lt; endl;</div>
<div class="line">    s.bind(addr);</div>
<div class="line"> </div>
<div class="line">    Poller pin;</div>
<div class="line">    pin.set(s.fd(), Poller::input);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">string</span> got;</div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        pin.wait();</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> sz = s.recv_next();</div>
<div class="line">        InetAddr from;</div>
<div class="line">        got.resize(sz+1);</div>
<div class="line">        s.recv(&amp;got[0], sz, from);</div>
<div class="line">        got[sz] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">        </div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;echo to &quot;</span> &lt;&lt; from.host() &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; got;</div>
<div class="line">        s.send(got.data(), sz, from);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> connect_udp(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    InetAddr addr;</div>
<div class="line">    addr.host(host);</div>
<div class="line">    <span class="keywordflow">if</span> (scope)      addr.scope_id(scope);</div>
<div class="line">    addr.port(port);</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* connect udp address: &quot;</span> &lt;&lt; addr &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    InetUdpSock s;</div>
<div class="line">    s.reuse_addr(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    Event done;</div>
<div class="line"> </div>
<div class="line">    thread t([&amp;s, &amp;done]()</div>
<div class="line">    {</div>
<div class="line">        Logger tout;</div>
<div class="line">        tout.add_cout();</div>
<div class="line"> </div>
<div class="line">        Poller pin;</div>
<div class="line">        pin.set(s.fd(), Poller::input);</div>
<div class="line">        pin.set(done, Poller::input);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">string</span> got;</div>
<div class="line">        for (;;)</div>
<div class="line">        {</div>
<div class="line">            pin.wait();</div>
<div class="line">            <span class="keywordflow">if</span> (pin.event(done))</div>
<div class="line">            {</div>
<div class="line">                tout &lt;&lt; <span class="stringliteral">&quot;* done signal, thread exit&quot;</span> &lt;&lt; endl;</div>
<div class="line">                break;</div>
<div class="line">            }</div>
<div class="line">            if (pin.event(s.fd()))</div>
<div class="line">            {</div>
<div class="line">                auto sz = s.recv_next();</div>
<div class="line">                </div>
<div class="line">                InetAddr from;</div>
<div class="line">                got.resize(sz+1);</div>
<div class="line">                if (s.recv(&amp;got[0], sz, from) &lt;= 0)</div>
<div class="line">                {</div>
<div class="line">                    tout &lt;&lt; <span class="stringliteral">&quot;* recv failed, thread exit&quot;</span> &lt;&lt; endl;</div>
<div class="line">                    break;</div>
<div class="line">                }</div>
<div class="line">                got[sz] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line">                </div>
<div class="line">                tout &lt;&lt; <span class="stringliteral">&quot;got from &quot;</span> &lt;&lt; from &lt;&lt; <span class="stringliteral">&quot; &gt; &quot;</span> &lt;&lt; got;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    lout &lt;&lt; <span class="stringliteral">&quot;* sending keyboard input to server&quot;</span> &lt;&lt; endl;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;)</div>
<div class="line">    {</div>
<div class="line">        std::this_thread::sleep_for(milliseconds(100));</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">string</span> cmd;</div>
<div class="line">        getline(std::cin, cmd);</div>
<div class="line"> </div>
<div class="line">        cmd += <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (s.send(&amp;cmd[0], cmd.size(), addr) &lt;= 0)</div>
<div class="line">        {</div>
<div class="line">            lout &lt;&lt; <span class="stringliteral">&quot;* send failed, exit&quot;</span> &lt;&lt; endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    done.write(1);</div>
<div class="line">    s.close();</div>
<div class="line">    t.join();</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> test_connection(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">unsigned</span> scope, <span class="keywordtype">int</span> timeout)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        test_tcp(resolve(host), port, scope, timeout);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (exception&amp; ex)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* connection failed: &quot;</span> &lt;&lt; ex.what() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    exit(0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> server(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">bool</span> udp, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (udp)</div>
<div class="line">        {</div>
<div class="line">            listen_udp(resolve(host, <span class="keyword">true</span>), port, scope);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            listen_tcp(resolve(host), port, scope);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (exception&amp; ex)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* server failed: &quot;</span> &lt;&lt; ex.what() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    exit(0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> client(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; host, <span class="keywordtype">int</span> port, <span class="keywordtype">bool</span> udp, <span class="keywordtype">unsigned</span> scope)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (udp)</div>
<div class="line">        {</div>
<div class="line">            connect_udp(resolve(host, <span class="keyword">true</span>), port, scope);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            connect_tcp(resolve(host), port, scope);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (exception&amp; ex)</div>
<div class="line">    {</div>
<div class="line">        lout &lt;&lt; <span class="stringliteral">&quot;* client failed: &quot;</span> &lt;&lt; ex.what() &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    exit(0);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    option lo[32];</div>
<div class="line">    memset(&amp;lo[0], 0, 32*<span class="keyword">sizeof</span>(option));</div>
<div class="line">    lo[0].name = <span class="stringliteral">&quot;help&quot;</span>;</div>
<div class="line">    lo[0].val = <span class="charliteral">&#39;?&#39;</span>;</div>
<div class="line">    lo[1].name = <span class="stringliteral">&quot;ifs&quot;</span>;</div>
<div class="line">    lo[1].val = <span class="charliteral">&#39;I&#39;</span>;</div>
<div class="line">    <span class="comment">//lo[1].has_arg = 0;</span></div>
<div class="line">    lo[2].name = <span class="stringliteral">&quot;addrs&quot;</span>;</div>
<div class="line">    lo[2].val = <span class="charliteral">&#39;A&#39;</span>;</div>
<div class="line">    lo[3].name = <span class="stringliteral">&quot;listen&quot;</span>;</div>
<div class="line">    lo[3].val = <span class="charliteral">&#39;l&#39;</span>;</div>
<div class="line">    lo[4].name = <span class="stringliteral">&quot;udp&quot;</span>;</div>
<div class="line">    lo[4].val = <span class="charliteral">&#39;u&#39;</span>;</div>
<div class="line">    lo[5].name = <span class="stringliteral">&quot;test&quot;</span>;</div>
<div class="line">    lo[5].val = <span class="charliteral">&#39;T&#39;</span>;</div>
<div class="line">    lo[6].name = <span class="stringliteral">&quot;resolve&quot;</span>;</div>
<div class="line">    lo[6].val = <span class="charliteral">&#39;R&#39;</span>;</div>
<div class="line">    lo[7].name = <span class="stringliteral">&quot;scope&quot;</span>;</div>
<div class="line">    lo[7].val = <span class="charliteral">&#39;s&#39;</span>;</div>
<div class="line">    lo[7].has_arg = 1;</div>
<div class="line"> </div>
<div class="line">    lout.add_cout();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> usage=<span class="keyword">false</span>, listen=<span class="keyword">false</span>, udp=<span class="keyword">false</span>, test=<span class="keyword">false</span>, resolve=<span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">unsigned</span> scope=0;</div>
<div class="line">    <span class="keywordtype">string</span> mcast;</div>
<div class="line">    <span class="keywordflow">while</span> (1)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> opt = getopt_long(argc, argv, <span class="stringliteral">&quot;?IAluTRs:&quot;</span>, &amp;lo[0], <span class="keyword">nullptr</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (opt == -1)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">switch</span> (opt)</div>
<div class="line">        {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;?&#39;</span>:</div>
<div class="line">            usage = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div>
<div class="line">            print_interfaces();</div>
<div class="line">            exit(0);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div>
<div class="line">            print_available_addrs();</div>
<div class="line">            exit(0);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>:</div>
<div class="line">            listen = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:</div>
<div class="line">            udp = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line">            test = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:</div>
<div class="line">            resolve = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line">            <span class="keywordflow">if</span> (!optarg)    usage = <span class="keyword">true</span>;</div>
<div class="line">            <span class="keywordflow">else</span>            scope = atoi(optarg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>:</div>
<div class="line">            usage = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> nargs = argc-optind;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (resolve)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (nargs &lt; 1)  usage = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (nargs &lt; 2)  usage = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (usage)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using</span> std::cerr;</div>
<div class="line">        cerr &lt;&lt; argv[0] &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  scclib net module example&quot;</span> &lt;&lt; endl;</div>
<div class="line">        </div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  For ipv4 addresses, use ipv4/6 syntax, e.g. ::ffff:192.168.1.1&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  Informational:&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -I|--ifs                    print out interfaces and return&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -A|--addrs                  print out addrs and return&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -R|--resolve HOST1 HOST2 .. resolve host(s) and return&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  Test:&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -T|--test HOST PORT [secs]  perform tcp connection test and return&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  Client:&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    HOST PORT                   connect and send keyboard input&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  Server:&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -l HOST PORT                listen and echo&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;  Common params for client/server:&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -u|--udp                    udp mode&quot;</span> &lt;&lt; endl;</div>
<div class="line">        cerr &lt;&lt; <span class="stringliteral">&quot;    -s|--scope &lt;NUM&gt;            set scope_id for address&quot;</span> &lt;&lt; endl;</div>
<div class="line">        exit(1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (resolve)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">while</span> (optind &lt; argc)</div>
<div class="line">        {</div>
<div class="line">            lout &lt;&lt; <span class="stringliteral">&quot;* resolving &quot;</span> &lt;&lt; argv[optind] &lt;&lt; endl;</div>
<div class="line">            <span class="keyword">auto</span> hads = NetIf::host_addrs(argv[optind], udp ? NetIf::SocketType::udp_datagram : NetIf::SocketType::tcp_stream);</div>
<div class="line">            <span class="keywordflow">if</span> (!hads.size())</div>
<div class="line">            {</div>
<div class="line">                lout &lt;&lt; <span class="stringliteral">&quot;* not resolved&quot;</span> &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span> <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; i : hads)</div>
<div class="line">            {</div>
<div class="line">                lout &lt;&lt; <span class="stringliteral">&quot;* &quot;</span> &lt;&lt; i &lt;&lt; endl;</div>
<div class="line">            }</div>
<div class="line">            optind++;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (test)</div>
<div class="line">    {</div>
<div class="line">        test_connection(argv[optind], atoi(argv[optind+1]), scope, optind+2 &lt; argc ? atoi(argv[optind+2]) : -1);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (listen)</div>
<div class="line">    {</div>
<div class="line">        server(argv[optind], atoi(argv[optind+1]), udp, scope);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        client(argv[optind], atoi(argv[optind+1]), udp, scope);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclassscc_1_1net_1_1InetAddr_html"><div class="ttname"><a href="../../da/d56/classscc_1_1net_1_1InetAddr.html">scc::net::InetAddr</a></div><div class="ttdoc">Ipv6 internet address.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4a/inet_8h_source.html#l00119">inet.h:120</a></div></div>
<div class="ttc" id="aclassscc_1_1net_1_1InetTcpSock_html"><div class="ttname"><a href="../../dc/dcf/classscc_1_1net_1_1InetTcpSock.html">scc::net::InetTcpSock</a></div><div class="ttdoc">Internet transmission control protocol (tcp) socket.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4a/inet_8h_source.html#l00250">inet.h:251</a></div></div>
<div class="ttc" id="aclassscc_1_1net_1_1InetUdpSock_html"><div class="ttname"><a href="../../df/da1/classscc_1_1net_1_1InetUdpSock.html">scc::net::InetUdpSock</a></div><div class="ttdoc">Internet user datagram protocol (udp) socket.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4a/inet_8h_source.html#l00294">inet.h:295</a></div></div>
<div class="ttc" id="aclassscc_1_1net_1_1NetIf_html"><div class="ttname"><a href="../../d6/df8/classscc_1_1net_1_1NetIf.html">scc::net::NetIf</a></div><div class="ttdoc">A network interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d39/net__if_8h_source.html#l00089">net_if.h:90</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1Event_html"><div class="ttname"><a href="../../db/d7d/classscc_1_1util_1_1Event.html">scc::util::Event</a></div><div class="ttdoc">Signaling kernel event counter.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d20/event_8h_source.html#l00078">event.h:79</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1InStream_html"><div class="ttname"><a href="../../d2/d63/classscc_1_1util_1_1InStream.html">scc::util::InStream</a></div><div class="ttdoc">Input stream wrapper for reader.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/iostream_8h_source.html#l00058">iostream.h:59</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1IoStream_html"><div class="ttname"><a href="../../d9/d84/classscc_1_1util_1_1IoStream.html">scc::util::IoStream</a></div><div class="ttdoc">Input/output stream wrapper for reader/writer.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/iostream_8h_source.html#l00156">iostream.h:157</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1Logger_html"><div class="ttname"><a href="../../db/da2/classscc_1_1util_1_1Logger.html">scc::util::Logger</a></div><div class="ttdoc">Thread-safe stream logger.</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d8c/logger_8h_source.html#l00085">logger.h:86</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1OutStream_html"><div class="ttname"><a href="../../d6/dbd/classscc_1_1util_1_1OutStream.html">scc::util::OutStream</a></div><div class="ttdoc">Output stream wrapper for writer.</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d27/iostream_8h_source.html#l00107">iostream.h:108</a></div></div>
<div class="ttc" id="aclassscc_1_1util_1_1Poller_html"><div class="ttname"><a href="../../dc/d7d/classscc_1_1util_1_1Poller.html">scc::util::Poller</a></div><div class="ttdoc">Poller which allows polling of generic file descriptors for various events.</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/poller_8h_source.html#l00065">poller.h:66</a></div></div>
<div class="ttc" id="aevent_8h_html"><div class="ttname"><a href="../../dd/d20/event_8h.html">event.h</a></div><div class="ttdoc">Signaling kernel event counter.</div></div>
<div class="ttc" id="ainet_8h_html"><div class="ttname"><a href="../../d6/d4a/inet_8h.html">inet.h</a></div><div class="ttdoc">Internet tcp and udp networking.</div></div>
<div class="ttc" id="aiostream_8h_html"><div class="ttname"><a href="../../dd/d27/iostream_8h.html">iostream.h</a></div><div class="ttdoc">Base input/output stream classes.</div></div>
<div class="ttc" id="alogger_8h_html"><div class="ttname"><a href="../../d1/d8c/logger_8h.html">logger.h</a></div><div class="ttdoc">Thread safe logging.</div></div>
<div class="ttc" id="anet__if_8h_html"><div class="ttname"><a href="../../d7/d39/net__if_8h.html">net_if.h</a></div><div class="ttdoc">Internet network interface utility.</div></div>
<div class="ttc" id="apoller_8h_html"><div class="ttname"><a href="../../d4/db0/poller_8h.html">poller.h</a></div><div class="ttdoc">Linux kernel i/o event notification (poller).</div></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
